{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///home/floran/Documents/travail/real/fantasyLeagueHelper/src/pages/History.tsx"],"sourcesContent":["\"use client\";\n\nimport { CSSProperties, useMemo } from \"react\";\nimport { buildHistoryMap } from \"../utils/data\";\nimport { createStyles } from \"../utils/style\";\nimport { parseRanking } from \"../utils/utils\";\n\nexport const History = () => {\n  const styles = createStyles<CSSProperties>()({\n    historyTable: {\n      margin: \"0 auto\",\n    },\n    totalCells: {\n      border: \"1px solid #e45e04\",\n    },\n  });\n\n  const historyByOwnerId = buildHistoryMap();\n  const tableContent = useMemo(() => {\n    const ownersArray: {\n      ownerName: string;\n      seasons: number;\n      titles: number;\n      totalPoints: number;\n      average: number;\n      bestSeason: number;\n    }[] = [];\n    historyByOwnerId.forEach((value) => {\n      ownersArray.push({\n        ownerName: value.ownerName,\n        seasons: value.seasonsRankings.length,\n        titles: value.seasonsRankings.filter((season) => season.ranking === 1)\n          .length,\n        totalPoints: value.totalPoints,\n        average: value.totalPoints / value.seasonsRankings.length,\n        bestSeason: Math.min(\n          ...value.seasonsRankings.map((season) => season.ranking)\n        ),\n      });\n    });\n    return ownersArray\n      .sort((a, b) => {\n        return b.totalPoints - a.totalPoints;\n      })\n      .map((owner) => {\n        return (\n          <tr key={owner.ownerName}>\n            <td>{owner.ownerName}</td>\n            <td>{owner.seasons}</td>\n            <td>{owner.titles}</td>\n            <td style={styles.totalCells}>{owner.totalPoints}</td>\n            <td>{owner.average.toFixed(2)}</td>\n            <td>{parseRanking(owner.bestSeason)}</td>\n          </tr>\n        );\n      });\n  }, [historyByOwnerId, styles.totalCells]);\n\n  return (\n    <main>\n      <section>\n        <h2>Classement historique</h2>\n        <table style={styles.historyTable}>\n          <thead>\n            <tr>\n              <th>Manager</th>\n              <th>Saisons</th>\n              <th>Titres</th>\n              <th\n                style={styles.totalCells}\n                title=\"Un point est attribué pour chaque place au classement (1 point pour la 14e place, 2 pour la 13e place...) plus 3 points bonus pour le podium et encore 5 points bonus pour le titre.\"\n              >\n                Total points*\n              </th>\n              <th>Moyenne</th>\n              <th>Meilleure saison</th>\n            </tr>\n          </thead>\n          <tbody>{tableContent}</tbody>\n        </table>\n      </section>\n      <section>\n        <p>\n          * : Un point est attribué pour chaque place au classement (1 point\n          pour la 14e place, 2 pour la 13e place...) plus 3 points bonus pour le\n          podium et encore 5 points bonus pour le titre.\n        </p>\n      </section>\n    </main>\n  );\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOO,MAAM,UAAU;IACrB,MAAM,SAAS,CAAA,GAAA,qHAAA,CAAA,eAAY,AAAD,IAAmB;QAC3C,cAAc;YACZ,QAAQ;QACV;QACA,YAAY;YACV,QAAQ;QACV;IACF;IAEA,MAAM,mBAAmB,CAAA,GAAA,oHAAA,CAAA,kBAAe,AAAD;IACvC,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC3B,MAAM,cAOA,EAAE;QACR,iBAAiB,OAAO,CAAC,CAAC;YACxB,YAAY,IAAI,CAAC;gBACf,WAAW,MAAM,SAAS;gBAC1B,SAAS,MAAM,eAAe,CAAC,MAAM;gBACrC,QAAQ,MAAM,eAAe,CAAC,MAAM,CAAC,CAAC,SAAW,OAAO,OAAO,KAAK,GACjE,MAAM;gBACT,aAAa,MAAM,WAAW;gBAC9B,SAAS,MAAM,WAAW,GAAG,MAAM,eAAe,CAAC,MAAM;gBACzD,YAAY,KAAK,GAAG,IACf,MAAM,eAAe,CAAC,GAAG,CAAC,CAAC,SAAW,OAAO,OAAO;YAE3D;QACF;QACA,OAAO,YACJ,IAAI,CAAC,CAAC,GAAG;YACR,OAAO,EAAE,WAAW,GAAG,EAAE,WAAW;QACtC,GACC,GAAG,CAAC,CAAC;YACJ,qBACE,8OAAC;;kCACC,8OAAC;kCAAI,MAAM,SAAS;;;;;;kCACpB,8OAAC;kCAAI,MAAM,OAAO;;;;;;kCAClB,8OAAC;kCAAI,MAAM,MAAM;;;;;;kCACjB,8OAAC;wBAAG,OAAO,OAAO,UAAU;kCAAG,MAAM,WAAW;;;;;;kCAChD,8OAAC;kCAAI,MAAM,OAAO,CAAC,OAAO,CAAC;;;;;;kCAC3B,8OAAC;kCAAI,CAAA,GAAA,qHAAA,CAAA,eAAY,AAAD,EAAE,MAAM,UAAU;;;;;;;eAN3B,MAAM,SAAS;;;;;QAS5B;IACJ,GAAG;QAAC;QAAkB,OAAO,UAAU;KAAC;IAExC,qBACE,8OAAC;;0BACC,8OAAC;;kCACC,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAM,OAAO,OAAO,YAAY;;0CAC/B,8OAAC;0CACC,cAAA,8OAAC;;sDACC,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;4CACC,OAAO,OAAO,UAAU;4CACxB,OAAM;sDACP;;;;;;sDAGD,8OAAC;sDAAG;;;;;;sDACJ,8OAAC;sDAAG;;;;;;;;;;;;;;;;;0CAGR,8OAAC;0CAAO;;;;;;;;;;;;;;;;;;0BAGZ,8OAAC;0BACC,cAAA,8OAAC;8BAAE;;;;;;;;;;;;;;;;;AAQX","debugId":null}}]
}